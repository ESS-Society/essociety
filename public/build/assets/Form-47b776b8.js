import{W as i,r as N,a as r,j as o,d as F}from"./app-cff39451.js";import{u as x}from"./uc-first-b7f0971a.js";import{d as D,B as l}from"./Master-0f58515a.js";import{C as e}from"./Card-7fa7ec6a.js";import{B as j}from"./ButtonGroup-2bb01e4f.js";const w=(t,a)=>{const n=t.reduce((u,m)=>(u[m.column]=a?D(a,m.column):"",u),{});return i(n)};function z(t){return t.map(function(a){return a=typeof a=="string"?{column:a}:a,{label:(a==null?void 0:a.label)??x(a==null?void 0:a.column),column:a==null?void 0:a.column,type:(a==null?void 0:a.type)??"text",options:(a==null?void 0:a.options)??null,disabled:(a==null?void 0:a.disabled)??!1}})}const J=({name:t,fields:a,id:n,data:u})=>{const m=N.useMemo(()=>z(a),[a]),{data:p,setData:h,submit:v,processing:y,errors:B}=w(m,u),g=N.useCallback(s=>{s.preventDefault(),v(n?"put":"post",route(`leaguefy.admin.${t}s.${n?"update":"store"}`,{[t]:n}))},[p]);return r(e,{children:[o(e.Header,{children:o("div",{className:"card-tools",children:o("div",{className:"d-flex justify-content-end",children:r(l,{variant:"light",size:"sm",as:F,href:route(`leaguefy.admin.${t}s.index`),children:[o("i",{className:"fas fa-fw fa-list"}),o("span",{className:"d-none d-sm-inline",children:"Listar"})]})})})}),r("form",{className:"form-horizontal",onSubmit:g,children:[o(e.Body,{children:m.map(s=>r("div",{className:"form-group row",children:[o("label",{htmlFor:s==null?void 0:s.column,className:"col-sm-2 col-form-label",children:s==null?void 0:s.label}),r("div",{className:"col-sm-10",children:[!!(s!=null&&s.options)&&r("select",{id:s.column,name:s.column,className:"form-control",disabled:s.disabled,onChange:c=>h(s.column,c.target.value),children:[o("option",{value:""}),Object.entries(s.options).map(([c,b])=>o("option",{value:c,selected:p[s.column]===c,children:b},JSON.stringify(b)))]}),!(s!=null&&s.options)&&o("input",{type:s.type,id:s.column,name:s.column,className:"form-control",placeholder:s.label,value:p[s.column],disabled:s.disabled,onChange:c=>h(s.column,c.target.value)})]})]},JSON.stringify(s)))}),o(e.Footer,{className:"card-footer",children:r(j,{className:"float-right",children:[r(l,{type:"button",variant:"warning",size:"sm",children:[o("i",{className:"fas fa-fw fa-broom"}),"Limpar"]}),r(l,{type:"submit",variant:"primary",size:"sm",disabled:y,children:[o("i",{className:"fas fa-fw fa-save"}),n?"Salvar":"Atualizar"]})]})})]})]})};export{J as F};
