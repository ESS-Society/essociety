import{W as i,r as N,a as t,j as o,d as F}from"./app-f136ca8f.js";import{C as u,u as x}from"./Card-db3b7093.js";import{d as D,B as l}from"./Master-7d15f78f.js";const j=(r,a)=>{const n=r.reduce((e,m)=>(e[m.column]=a?D(a,m.column):"",e),{});return i(n)};function w(r){return r.map(function(a){return a=typeof a=="string"?{column:a}:a,{label:(a==null?void 0:a.label)??x(a==null?void 0:a.column),column:a==null?void 0:a.column,type:(a==null?void 0:a.type)??"text",options:(a==null?void 0:a.options)??null,disabled:(a==null?void 0:a.disabled)??!1}})}const O=({name:r,fields:a,id:n,data:e})=>{const m=N.useMemo(()=>w(a),[a]),{data:p,setData:h,submit:v,processing:y,errors:z}=j(m,e),g=N.useCallback(s=>{s.preventDefault(),v(n?"put":"post",route(`leaguefy.admin.${r}s.${n?"update":"store"}`,{[r]:n}))},[p]);return t(u,{children:[o(u.Header,{children:o("div",{className:"card-tools",children:o("div",{className:"d-flex justify-content-end",children:t(l,{variant:"light",size:"sm",as:F,href:route(`leaguefy.admin.${r}s.index`),children:[o("i",{className:"fas fa-fw fa-list"}),o("span",{className:"d-none d-sm-inline",children:"Listar"})]})})})}),t("form",{className:"form-horizontal",onSubmit:g,children:[o(u.Body,{children:m.map(s=>t("div",{className:"form-group row",children:[o("label",{htmlFor:s==null?void 0:s.column,className:"col-sm-2 col-form-label",children:s==null?void 0:s.label}),t("div",{className:"col-sm-10",children:[!!(s!=null&&s.options)&&t("select",{id:s.column,name:s.column,className:"form-control",disabled:s.disabled,onChange:c=>h(s.column,c.target.value),children:[o("option",{value:""}),Object.entries(s.options).map(([c,b])=>o("option",{value:c,selected:p[s.column]===c,children:b},JSON.stringify(b)))]}),!(s!=null&&s.options)&&o("input",{type:s.type,id:s.column,name:s.column,className:"form-control",placeholder:s.label,value:p[s.column],disabled:s.disabled,onChange:c=>h(s.column,c.target.value)})]})]},JSON.stringify(s)))}),o(u.Footer,{className:"card-footer",children:t("div",{className:"float-right",children:[t(l,{type:"button",variant:"warning",size:"sm",children:[o("i",{className:"fas fa-fw fa-broom"}),"Limpar"]}),t(l,{type:"submit",variant:"primary",size:"sm",disabled:y,children:[o("i",{className:"fas fa-fw fa-save"}),n?"Salvar":"Atualizar"]})]})})]})]})};export{O as F};
