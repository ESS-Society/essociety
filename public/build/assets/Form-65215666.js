import{W as F,r as N,a as t,j as o,d as x}from"./app-c22cd8a3.js";import{u as D}from"./uc-first-b7f0971a.js";import{d as j,B as h}from"./Master-47c53ee3.js";import{C as e}from"./Card-45f2c75e.js";import{B as w}from"./ButtonGroup-90aa1413.js";const z=(r,a)=>{const n=r.reduce((u,c)=>(u[c.column]=a?j(a,c.column):"",u),{});return F(n)};function B(r){return r.map(function(a){return a=typeof a=="string"?{column:a}:a,{label:(a==null?void 0:a.label)??D(a==null?void 0:a.column),column:a==null?void 0:a.column,name:(a==null?void 0:a.name)??(a==null?void 0:a.column),type:(a==null?void 0:a.type)??"text",options:(a==null?void 0:a.options)??null,disabled:(a==null?void 0:a.disabled)??!1}})}const J=({name:r,fields:a,id:n,data:u})=>{const c=N.useMemo(()=>B(a),[a]),{data:p,setData:b,submit:v,processing:y}=z(c,u),g=N.useCallback(s=>{s.preventDefault(),v(n?"put":"post",route(`leaguefy.admin.${r}s.${n?"update":"store"}`,{[r]:n}))},[p]);return t(e,{children:[o(e.Header,{children:o("div",{className:"card-tools",children:o("div",{className:"d-flex justify-content-end",children:t(h,{variant:"light",size:"sm",as:x,href:route(`leaguefy.admin.${r}s.index`),children:[o("i",{className:"fas fa-fw fa-list"}),o("span",{className:"d-none d-sm-inline",children:"Listar"})]})})})}),t("form",{className:"form-horizontal",onSubmit:g,children:[o(e.Body,{children:c.map(s=>t("div",{className:"form-group row",children:[o("label",{htmlFor:s==null?void 0:s.column,className:"col-sm-2 col-form-label",children:s==null?void 0:s.label}),t("div",{className:"col-sm-10",children:[!!(s!=null&&s.options)&&t("select",{id:s.column,name:s.name,className:"form-control",disabled:s.disabled,onChange:m=>b(s.name,m.target.value),children:[o("option",{value:""}),Object.entries(s.options).map(([m,l])=>o("option",{value:m,selected:p[s.column]===m,children:l},JSON.stringify(l)))]}),!(s!=null&&s.options)&&o("input",{type:s.type,id:s.column,name:s.name,className:"form-control",placeholder:s.label,value:p[s.column],disabled:s.disabled,onChange:m=>b(s.name,m.target.value)})]})]},JSON.stringify(s)))}),o(e.Footer,{className:"card-footer",children:t(w,{className:"float-right",children:[t(h,{type:"button",variant:"warning",size:"sm",children:[o("i",{className:"fas fa-fw fa-broom"}),"Limpar"]}),t(h,{type:"submit",variant:"primary",size:"sm",disabled:y,children:[o("i",{className:"fas fa-fw fa-save"}),n?"Salvar":"Atualizar"]})]})})]})]})};export{J as F};
